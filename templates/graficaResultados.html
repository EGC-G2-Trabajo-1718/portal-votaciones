<!doctype html>
<html>

<head>
    <title>Resultados de la votación</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js"></script>
</head>

<body>
<div id="canvas-holder" style="width:50% ">
    <canvas id="chart-area"/>
</div>

<script>

    function getRandomColor() {
        var letters = '0123456789ABCDEF'.split('');
        var color = '#';

        for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];

        }

        return color;
    }

    var grafica = {
        type: 'pie',
        data: {
            datasets: [{
                data: {{ votos|safe }},
                backgroundColor: getRandomColor(),

            }],
            labels: {{ opciones|safe }}

        },
        options: {
            responsive: true,
            legend: {
                labels: {

                    fontColor: 'black',
                    fontStyle: 'bold'

                },
                position: 'bottom',
            },
            title: {
                display: true,
                text: 'Resultados de la votación',
                fontColor: 'black',
                fontSize: 25,
                fontStyle: 'bold'
            },
            animation: {
                animateScale: true,
                animateRotate: true
            }
        }
    };
    window.onload = function () {
        var ctx = document.getElementById("chart-area").getContext("2d");
        window.graficaResultados = new Chart(ctx, grafica);
    };
</script>
</body>

</html>